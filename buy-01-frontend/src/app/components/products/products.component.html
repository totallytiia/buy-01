<app-navigationbar></app-navigationbar>

<div class="px-8 py-4 min-h-[calc(100vh-63.98px)]">
	<ng-template [ngIf]="isSeller">
		<div class="flex justify-end">

		</div>
	</ng-template>
	<div class="m-6 bg-white dark:bg-slate-800 rounded-xl p-2 shadow-lg relative">
		<h1 class="font-bold text-xl dark:text-slate-200 !my-4">Products</h1>
		<div class="absolute right-4 top-4">
			<button (click)="handleProfile()"
				class="flex gap-1 p-2 bg-slate-500 dark:bg-indigo-700 dark:text-slate-200 border-none text-white rounded-full shadow-lg">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2"
					stroke="currentColor" class="w-6 h-6">
					<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
				</svg>
			</button>
		</div>
		<div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 m-8">
			<ng-container *ngFor="let product of products">
				<div (click)="redirectProductDetails(product.id)"
					class="bg-white dark:bg-slate-900 shadow-lg rounded-xl overflow-hidden">

					<ng-container *ngIf="hasMedia(product.id!); else noMedia">
						<img [src]="previewMedia(getMediaByProductId(product.id)[0])"
							class="w-full border-4 border-white bg-slate-50 dark:bg-slate-600 dark:border-none rounded-t-xl h-56 object-cover object-center"
							alt="{{product.name}}">
					</ng-container>

					<ng-template #noMedia>
						<img src="https://upload.wikimedia.org/wikipedia/commons/a/a3/Image-not-found.png"
							class="w-full border-4 border-white bg-slate-50 dark:bg-slate-600 dark:border-none rounded-xl h-56 object-cover object-center"
							alt="Image not found">
					</ng-template>

					<div class="p-4">
						<h2 class="text-lg !mb-1 text-slate-800 dark:text-slate-200 font-semibold">{{product.name}}</h2>
						<p class="text-slate-600 dark:text-slate-200 text-xs">{{product.description}}</p>
						<div class="flex item-center justify-around gap-2 mt-4 mx-6">
							<h3 class="text-xs font-bold text-slate-600 dark:text-slate-200 !my-auto">
								{{product.price | currency:"EUR"}}</h3>
							<button
								class="px-8 uppercase bg-indigo-700 font-bold text-md py-3 border-none text-white rounded-xl">
								VIEW</button>
						</div>
					</div>
				</div>
			</ng-container>
		</div>
	</div>


</div>